{"map":{"version":3,"sources":["static/js/main.6d0de459.chunk.js"],"names":["this","push","33","module","exports","__webpack_require__","38","44","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","es","redux","redux_thunk_es","redux_logger","initialState","isAuth","user","reducers","Object","login","arguments","length","undefined","action","type","payload","loggerMiddleware","store","react_router","classCallCheck","createClass","possibleConstructorReturn","getPrototypeOf","inherits","navbar","props","a","createElement","to","NavbarContainer","defineProperty","objectSpread2","slicedToArray","components_login","_useState","email","password","_useState2","values","setValues","handleInputChange","event","_event$target","target","value","name","Fragment","onSubmit","preventDefault","logginAction","placeholder","onChange","required","actions_getUserAction","dispatch","fetch","response","json","LoginContainer","method","body","JSON","stringify","headers","Content-Type","res","err","alert","actions_logginAction","home","message","setMessage","text","components_private","onClick","logoutAction","PrivateContainer","src_App","getUserAction","path","exact","component","ComponentToProtect","_Component","_class","_this","call","loading","redirect","key","_this2","status","Error","setState","_this$state","AppContainer","render","document","getElementById","URL","origin","addEventListener","concat","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"CAACA,KAAK,0BAA4BA,KAAK,2BAA6B,IAAIC,KAAK,CAAC,CAAC,GAAG,CAE5EC,GACA,SAAUC,EAAQC,EAASC,GAEjCF,EAAOC,QAAUC,EAAoB,KAK/BC,GACA,SAAUH,EAAQC,EAASC,KAM3BE,GACA,SAAUJ,EAAQK,EAAqBH,GAE7C,aACAA,EAAoBI,EAAED,GAGtB,IAAIE,EAAQL,EAAoB,GAC5BM,EAA6BN,EAAoBO,EAAEF,GAGnDG,EAAYR,EAAoB,IAChCS,EAAiCT,EAAoBO,EAAEC,GAGvDE,EAAmBV,EAAoB,GAavCW,GAVMX,EAAoB,IAUdY,QAAmC,cAA3BC,OAAOC,SAASC,UACb,UAA3BF,OAAOC,SAASC,UAChBF,OAAOC,SAASC,SAASC,MAAM,4DAQF,SAASC,EAAgBC,GAAOC,UAAUC,cAAcC,SAASH,GAAOI,MAAK,SAASC,GAAcA,EAAaC,cAAc,WAAW,IAAIC,EAAiBF,EAAaG,WAAWD,EAAiBE,cAAc,WAAuC,cAAzBF,EAAiBG,QAAwBT,UAAUC,cAAcS,WAIlUC,QAAQC,IAAI,6CAGZD,QAAQC,IAAI,4CAA+CC,OAAM,SAASC,GAAOH,QAAQG,MAAM,4CAA4CA,MAM3I,IAAIC,EAAKlC,EAAoB,GAGzBmC,EAAQnC,EAAoB,IAG5BoC,EAAiBpC,EAAoB,IAGrCqC,EAAerC,EAAoB,IAKnCsC,EAAa,CAACC,QAAO,EAAMC,KAAK,IAEpC,IAAyGC,EAAzFC,OAAOP,EAA+B,EAAtCO,CAAyC,CAACC,MAFlB,WAAiB,IAAIf,EAAMgB,UAAUC,OAAO,QAAkBC,IAAfF,UAAU,GAAeA,UAAU,GAAGN,EAAiBS,EAAOH,UAAUC,OAAO,EAAED,UAAU,QAAGE,EAA8B,OAApBhB,QAAQC,IAAIgB,GAAeA,EAAOC,MAAM,IAF5F,mBAEkH,MAAM,CAACT,SAAOQ,EAAOE,QAAmBT,KAAKO,EAAOE,SAAS,IAFxS,gBAEmW,IAFjU,gBAEoV,MAAM,CAACV,QAAO,EAAKC,KAAKO,EAAOE,SAAS,IAF5V,cAEsX,IAF7V,SAEyW,MAAM,GAAG,QAAQ,OAAOrB,MAI1esB,EAAiBR,OAAOL,EAA2B,aAAlCK,GAA2CS,EAAMT,OAAOP,EAA2B,EAAlCO,CAAqCD,EAASC,OAAOP,EAA+B,EAAtCO,CAAyCN,EAAgC,EAAEc,IAE3LE,EAAepD,EAAoB,IAGnCqD,EAAiBrD,EAAoB,IAGrCsD,EAActD,EAAoB,IAGlCuD,EAA4BvD,EAAoB,IAGhDwD,EAAiBxD,EAAoB,IAGrCyD,EAAWzD,EAAoB,IAKnC,IAAikB0D,EAA/iB,SAAgBC,GAA0B,OAAnB7B,QAAQC,IAAI4B,GAAcrD,EAAcsD,EAAEC,cAAc,MAAM,KAAKvD,EAAcsD,EAAEC,cAAc,KAAK,KAAKvD,EAAcsD,EAAEC,cAAc,KAAK,KAAKvD,EAAcsD,EAAEC,cAAcnD,EAA+B,EAAE,CAACoD,GAAG,KAAK,SAASxD,EAAcsD,EAAEC,cAAc,KAAK,KAAKvD,EAAcsD,EAAEC,cAAcnD,EAA+B,EAAE,CAACoD,GAAG,WAAW,YAAYH,EAAMpB,QAAQjC,EAAcsD,EAAEC,cAAc,KAAK,KAAKvD,EAAcsD,EAAEC,cAAcnD,EAA+B,EAAE,CAACoD,GAAG,UAAU,aAElaC,EAAmBrB,OAAOR,EAAoB,EAA3BQ,EAA/G,SAAyBd,EAAM+B,GAAO,OAAO/B,EAAMe,QAA2D,CAAgDe,GAE9KM,EAAiBhE,EAAoB,IAGrCiE,EAAgBjE,EAAoB,IAGpCkE,EAAgBlE,EAAoB,IAuB0pBmE,EApBlrB,SAAeR,GAAO7B,QAAQC,IAAI,QAAQ4B,GAAO,IAAIS,EAAU1B,OAAOrC,EAAgB,SAAvBqC,CAA0B,CAAC2B,MAAM,GAAGC,SAAS,KAAKC,EAAW7B,OAAOwB,EAA+B,EAAtCxB,CAAyC0B,EAAU,GAAGI,EAAOD,EAAW,GAAGE,EAAUF,EAAW,GAAOG,EAAkB,SAA2BC,GAAO,IAAIC,EAAcD,EAAME,OAAOC,EAAMF,EAAcE,MAAMC,EAAKH,EAAcG,KAAKN,EAAU/B,OAAOuB,EAA+B,EAAtCvB,CAAyC,GAAG8B,EAAO9B,OAAOsB,EAAgC,EAAvCtB,CAA0C,GAAGqC,EAAKD,MAoBre,OAAOxE,EAAcsD,EAAEC,cAAcvD,EAAcsD,EAAEoB,SAAS,KAAKrB,EAAMnB,MAAMmB,EAAMpB,QAAQjC,EAAcsD,EAAEC,cAAcT,EAA+B,EAAE,CAACU,GAAG,MAAMxD,EAAcsD,EAAEC,cAAc,OAAO,CAACoB,SApBiT,SAAkBN,GAAOA,EAAMO,iBAAiBvB,EAAMwB,aAAaX,KAoBjWlE,EAAcsD,EAAEC,cAAc,KAAK,KAAK,gBAAgBvD,EAAcsD,EAAEC,cAAc,QAAQ,CAACb,KAAK,QAAQ+B,KAAK,QAAQK,YAAY,cAAcN,MAAMN,EAAOH,MAAMgB,SAASX,EAAkBY,UAAS,IAAOhF,EAAcsD,EAAEC,cAAc,QAAQ,CAACb,KAAK,WAAW+B,KAAK,WAAWK,YAAY,iBAAiBN,MAAMN,EAAOF,SAASe,SAASX,EAAkBY,UAAS,IAAOhF,EAAcsD,EAAEC,cAAc,QAAQ,CAACb,KAAK,SAAS8B,MAAM,cAE9oBS,EAAsB,WAAyB,OAAO,SAASC,GAAU,OAAOC,MAAM,oBAAoBnE,MAAK,SAASoE,GAAU,OAAOA,EAASC,UAAUrE,MAAK,SAASqE,GAAMH,EAAS,CAACxC,KA/D5K,gBA+D+LC,QAAQ0C,SAEuFC,EAAkBlD,OAAOR,EAAoB,EAA3BQ,EAA/R,SAAyBd,EAAM+B,GAAO,OAAO/B,EAAMe,SAA8C,SAA4B6C,GAAU,MAAM,CAACL,aAAa,SAAsBX,GAAQ,OAAOgB,EAF6B,SAAsBhB,GAAQ,OAAO,SAASgB,GAAU,OAAOC,MAAM,kBAAkB,CAACI,OAAO,OAAOC,KAAKC,KAAKC,UAAUxB,GAAQyB,QAAQ,CAACC,eAAe,sBAAsB5E,MAAK,SAAS6E,GAAKX,EAASD,QAA4BvD,OAAM,SAASoE,GAAKtE,QAAQG,MAAMmE,GAAKC,MAAM,yCAEzSC,CAAqB9B,QAAgE,CAAiGL,GAEgGoC,EAApf,WAAgB,IAAInC,EAAU1B,OAAOrC,EAAgB,SAAvBqC,CAA0B,IAAI6B,EAAW7B,OAAOwB,EAA+B,EAAtCxB,CAAyC0B,EAAU,GAAGoC,EAAQjC,EAAW,GAAGkC,EAAWlC,EAAW,GAAuJ,OAApJ7B,OAAOrC,EAAiB,UAAxBqC,EAA2B,WAAW+C,MAAM,aAAanE,MAAK,SAAS6E,GAAK,OAAOA,EAAIO,UAAUpF,MAAK,SAAS6E,GAAK,OAAOM,EAAWN,QAAU,IAAW7F,EAAcsD,EAAEC,cAAc,MAAM,KAAKvD,EAAcsD,EAAEC,cAAc,KAAK,KAAK,QAAQvD,EAAcsD,EAAEC,cAAc,IAAI,KAAK2C,KAEoNG,EAArpB,SAAiBhD,GAAO,IAAIS,EAAU1B,OAAOrC,EAAgB,SAAvBqC,CAA0B,IAAI6B,EAAW7B,OAAOwB,EAA+B,EAAtCxB,CAAyC0B,EAAU,GAAGoC,EAAQjC,EAAW,GAAGkC,EAAWlC,EAAW,GAAG7B,OAAOrC,EAAiB,UAAxBqC,EAA2B,WAAW+C,MAAM,eAAenE,MAAK,SAAS6E,GAAK,OAAOA,EAAIO,UAAUpF,MAAK,SAAS6E,GAAK,OAAOM,EAAWN,QAAU,IAAwD,OAAO7F,EAAcsD,EAAEC,cAAc,MAAM,KAAKvD,EAAcsD,EAAEC,cAAc,KAAK,KAAK,WAAWvD,EAAcsD,EAAEC,cAAc,IAAI,KAAK2C,GAASlG,EAAcsD,EAAEC,cAAc,SAAS,CAAC+C,QAAQ,WAA1NjD,EAAMkD,iBAA0P,YAEnVC,EAAoBpE,OAAOR,EAAoB,EAA3BQ,EAAvR,SAAyBd,EAAM+B,GAAO,OAAO/B,EAAMe,SAAgD,SAA4B6C,GAAU,MAAM,CAACqB,aAAa,WAAwB,OAAOrB,GARwZ,SAASA,GAAU,OAAOC,MAAM,oBAAoBnE,MAAK,SAASoE,GAAUF,EAAS,CAACxC,KA/DlmB,qBAuE8M,CAAqG2D,GAEiSI,EAArrB,SAAapD,GAA4F,OAArF7B,QAAQC,IAAI4B,GAAOjB,OAAOrC,EAAiB,UAAxBqC,EAA2B,WAAWiB,EAAMqD,kBAAkB,IAAW1G,EAAcsD,EAAEC,cAAc,MAAM,KAAKvD,EAAcsD,EAAEC,cAAc,KAAK,KAAKF,EAAMnB,MAAMmB,EAAMnB,KAAK6B,OAAO/D,EAAcsD,EAAEC,cAAcE,EAAgB,MAAMzD,EAAcsD,EAAEC,cAAcT,EAA6B,EAAE,KAAK9C,EAAcsD,EAAEC,cAAcT,EAA4B,EAAE,CAAC6D,KAAK,IAAIC,OAAM,EAAKC,UAAUZ,IAAOjG,EAAcsD,EAAEC,cAAcT,EAA4B,EAAE,CAAC6D,KAAK,UAAUE,WA/C7fC,EA+CghBN,EA/Cxe,SAASO,GAAmE,SAASC,IAAS,IAAIC,EAAqO,OAA/N7E,OAAOW,EAAgC,EAAvCX,CAA0C/C,KAAK2H,IAAQC,EAAM7E,OAAOa,EAA2C,EAAlDb,CAAqD/C,KAAK+C,OAAOc,EAAgC,EAAvCd,CAA0C4E,GAAQE,KAAK7H,QAAaiC,MAAM,CAAC6F,SAAQ,EAAKC,UAAS,GAAcH,EAAsrB,OAA/+B7E,OAAOe,EAA0B,EAAjCf,CAAoC4E,EAAOD,GAAqR3E,OAAOY,EAA6B,EAApCZ,CAAuC4E,EAAO,CAAC,CAACK,IAAI,oBAAoB7C,MAAM,WAA6B,IAAI8C,EAAOjI,KAAK8F,MAAM,oBAAoBnE,MAAK,SAAS6E,GAAK,GAAgB,MAAbA,EAAI0B,OAAoF,MAArB,IAAIC,MAAM3B,EAAIlE,OAA/D2F,EAAOG,SAAS,CAACN,SAAQ,OAA6DzF,OAAM,SAASoE,GAAKtE,QAAQG,MAAMmE,GAAKwB,EAAOG,SAAS,CAACN,SAAQ,EAAMC,UAAS,SAAa,CAACC,IAAI,SAAS7C,MAAM,WAAkB,IAAIkD,EAAYrI,KAAKiC,MAAM6F,EAAQO,EAAYP,QAAQC,EAASM,EAAYN,SAAS,OAAGD,EAAgB,KAASC,EAAiBpH,EAAcsD,EAAEC,cAAcT,EAA+B,EAAE,CAACU,GAAG,WAAmBxD,EAAcsD,EAAEC,cAAcuD,EAAmBzH,KAAKgE,WAAmB2D,EAAzhC,CAAkiCjH,EAAiB,cA+CziBC,EAAcsD,EAAEC,cAAcT,EAA4B,EAAE,CAAC6D,KAAK,SAASE,UAAUvB,MA/C3oB,IAAkBwB,GAiDiRa,EAAgBvF,OAAOR,EAAoB,EAA3BQ,EAAlR,SAAyBd,EAAM+B,GAAO,OAAO/B,EAAMe,SAA4C,SAA4B6C,GAAU,MAAM,CAACwB,cAAc,WAAyB,OAAOxB,EAASD,SAA8E,CAA6FwB,GAE/YtG,EAAkBmD,EAAEsE,OAAO5H,EAAcsD,EAAEC,cAAcnD,EAAwC,EAAE,KAAKJ,EAAcsD,EAAEC,cAAc3B,EAAqB,EAAE,CAACiB,MAAMA,GAAO7C,EAAcsD,EAAEC,cAAcoE,EAAa,QAAQE,SAASC,eAAe,SA9G5J,WAAoB,GAAU,kBAAkBjH,UAAU,CACzG,GAA7B,IAAIkH,IAAI,IAAIxH,OAAOC,UAAuBwH,SAASzH,OAAOC,SAASwH,OAGjF,OAAQzH,OAAO0H,iBAAiB,QAAO,WAAW,IAAIrH,EAAM,GAAGsH,OAAO,IAAI,sBAAyB7H,IAWmD,SAAiCO,GACvLuE,MAAMvE,GAAOI,MAAK,SAASoE,GACN,MAAlBA,EAASmC,SAA4E,IAA9DnC,EAASO,QAAQwC,IAAI,gBAAgBC,QAAQ,cACvEvH,UAAUC,cAAcuH,MAAMrH,MAAK,SAASC,GAAcA,EAAaqH,aAAatH,MAAK,WAAWT,OAAOC,SAAS+H,eACpH5H,EAAgBC,MAAWc,OAAM,WAAWF,QAAQC,IAAI,oEAdxD+G,CAAwB5H,GAExBC,UAAUC,cAAcuH,MAAMrH,MAAK,WAAWQ,QAAQC,IAAI,gHAC1Dd,EAAgBC,OAsG+OG,KAI7P,CAAC,CAAC,GAAG,EAAE"},"code":"(this[\"webpackJsonpreact-auth\"]=this[\"webpackJsonpreact-auth\"]||[]).push([[0],{33:function(e,t,n){e.exports=n(44)},38:function(e,t,n){},44:function(e,t,n){\"use strict\";n.r(t);var o=n(0),r=n.n(o),a=n(14),c=n.n(a),i=n(8),l=(n(38),Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function u(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){\"installed\"===t.state&&(navigator.serviceWorker.controller?console.log(\"New content is available; please refresh.\"):console.log(\"Content is cached for offline use.\"))}}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}var s=n(6),f=n(11),h=n(24),g=n(25),m={isAuth:!1,user:{}};var d=Object(f.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case\"GET_USER_REQUEST\":return{isAuth:!!t.payload,user:t.payload};case\"LOGIN_REQUEST\":case\"LOGIN_SUCCESS\":return{isAuth:!0,user:t.payload};case\"LOGIN_ERROR\":case\"LOGOUT\":return{};default:return e}}}),p=Object(g.createLogger)(),E=Object(f.d)(d,Object(f.a)(h.a,p)),v=n(10),b=n(26),O=n(27),w=n(31),j=n(28),y=n(32);var S=function(e){return console.log(e),r.a.createElement(\"nav\",null,r.a.createElement(\"ul\",null,r.a.createElement(\"li\",null,r.a.createElement(i.b,{to:\"/\"},\"Home\")),r.a.createElement(\"li\",null,r.a.createElement(i.b,{to:\"/secret\"},\"Secret\")),!e.isAuth&&r.a.createElement(\"li\",null,r.a.createElement(i.b,{to:\"/login\"},\"Login\"))))},k=Object(s.b)((function(e,t){return e.login}))(S),A=n(16),L=n(30),T=n(12),U=function(e){console.log(\"login\",e);var t=Object(o.useState)({email:\"\",password:\"\"}),n=Object(T.a)(t,2),a=n[0],c=n[1],i=function(e){var t=e.target,n=t.value,o=t.name;c(Object(L.a)({},a,Object(A.a)({},o,n)))};return r.a.createElement(r.a.Fragment,null,e.user&&e.isAuth&&r.a.createElement(v.a,{to:\"/\"}),r.a.createElement(\"form\",{onSubmit:function(t){t.preventDefault(),e.logginAction(a)}},r.a.createElement(\"h1\",null,\"Login Below!\"),r.a.createElement(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter email\",value:a.email,onChange:i,required:!0}),r.a.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter password\",value:a.password,onChange:i,required:!0}),r.a.createElement(\"input\",{type:\"submit\",value:\"Submit\"})))},C=function(){return function(e){return fetch(\"/api/check/token\").then((function(e){return e.json()})).then((function(t){e({type:\"LOGIN_REQUEST\",payload:t})}))}},R=Object(s.b)((function(e,t){return e.login}),(function(e){return{logginAction:function(t){return e(function(e){return function(t){return fetch(\"/api/auth/login\",{method:\"POST\",body:JSON.stringify(e),headers:{\"Content-Type\":\"application/json\"}}).then((function(e){t(C())})).catch((function(e){console.error(e),alert(\"Error logging in please try again\")}))}}(t))}}}))(U),G=function(){var e=Object(o.useState)(\"\"),t=Object(T.a)(e,2),n=t[0],a=t[1];return Object(o.useEffect)((function(){fetch(\"/api/home\").then((function(e){return e.text()})).then((function(e){return a(e)}))}),[]),r.a.createElement(\"div\",null,r.a.createElement(\"h1\",null,\"Home\"),r.a.createElement(\"p\",null,n))},N=function(e){var t=Object(o.useState)(\"\"),n=Object(T.a)(t,2),a=n[0],c=n[1];Object(o.useEffect)((function(){fetch(\"/api/secret\").then((function(e){return e.text()})).then((function(e){return c(e)}))}),[]);return r.a.createElement(\"div\",null,r.a.createElement(\"h1\",null,\"Private\"),r.a.createElement(\"p\",null,a),r.a.createElement(\"button\",{onClick:function(){e.logoutAction()}},\"Logout\"))},_=Object(s.b)((function(e,t){return e.login}),(function(e){return{logoutAction:function(){return e((function(e){return fetch(\"/api/auth/logout\").then((function(t){e({type:\"LOGOUT\"})}))}))}}}))(N),x=function(e){return console.log(e),Object(o.useEffect)((function(){e.getUserAction()}),[]),r.a.createElement(\"div\",null,r.a.createElement(\"h1\",null,e.user&&e.user.email),r.a.createElement(k,null),r.a.createElement(v.d,null,r.a.createElement(v.b,{path:\"/\",exact:!0,component:G}),r.a.createElement(v.b,{path:\"/secret\",component:(t=_,function(e){function n(){var e;return Object(b.a)(this,n),(e=Object(w.a)(this,Object(j.a)(n).call(this))).state={loading:!0,redirect:!1},e}return Object(y.a)(n,e),Object(O.a)(n,[{key:\"componentDidMount\",value:function(){var e=this;fetch(\"/api/check/token\").then((function(t){if(200!==t.status)throw new Error(t.error);e.setState({loading:!1})})).catch((function(t){console.error(t),e.setState({loading:!1,redirect:!0})}))}},{key:\"render\",value:function(){var e=this.state,n=e.loading,o=e.redirect;return n?null:o?r.a.createElement(v.a,{to:\"/login\"}):r.a.createElement(t,this.props)}}]),n}(o.Component))}),r.a.createElement(v.b,{path:\"/login\",component:R})));var t},I=Object(s.b)((function(e,t){return e.login}),(function(e){return{getUserAction:function(){return e(C())}}}))(x);c.a.render(r.a.createElement(i.a,null,r.a.createElement(s.a,{store:E},r.a.createElement(I,null))),document.getElementById(\"root\")),function(){if(\"serviceWorker\"in navigator){if(new URL(\".\",window.location).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var e=\"\".concat(\".\",\"/service-worker.js\");l?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get(\"content-type\").indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):u(e)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ\")}))):u(e)}))}}()}},[[33,1,2]]]);","extractedComments":[]}